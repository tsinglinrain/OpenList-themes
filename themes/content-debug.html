<!-- OpenList ä¸»é¢˜ - è¯Šæ–­ç‰ˆæœ¬ -->
<div id="openlist-theme-debug" style="max-width: 100%; margin: 0 auto; padding: 0;">
    
    <!-- ä¾èµ–æ£€æŸ¥çŠ¶æ€æ˜¾ç¤º -->
    <div id="debug-status" style="background: #f0f8ff; border: 1px solid #409EFF; padding: 10px; margin: 10px 0; font-size: 12px;">
        <h4 style="color: #409EFF; margin: 0 0 10px 0;">ğŸ”§ OpenList ä¸»é¢˜è¯Šæ–­</h4>
        <div id="aplayer-status">ğŸ”„ æ£€æŸ¥ APlayer...</div>
        <div id="meting-status">ğŸ”„ æ£€æŸ¥ MetingJS...</div>
        <div id="giscus-status">ğŸ”„ æ£€æŸ¥ Giscus...</div>
        <div id="busuanzi-status">ğŸ”„ æ£€æŸ¥ä¸è’œå­ç»Ÿè®¡...</div>
    </div>

	<!--éŸ³ä¹æ’­æ”¾å™¨-->
    <div style="margin: 10px 0; padding: 10px; border: 1px dashed #ccc;">
        <h4>éŸ³ä¹æ’­æ”¾å™¨æµ‹è¯•ï¼š</h4>
        <meting-js 
            list-folded="true" 
            server="{{MUSIC_SERVER}}" 
            type="playlist" 
            id="{{PLAYLIST_ID}}" 
            fixed="false"
            style="max-width: 100%;">
            <pre hidden>
                [00:00.00]This
                [00:04.01]is
                [00:08.02]Waite
            </pre>
        </meting-js>
        <div id="meting-debug" style="margin-top: 5px; font-size: 11px; color: #666;"></div>
    </div>

    <br />
    <center class="dibu">
        <div style="line-height: 20px;font-size: 9pt;font-weight: bold; max-width: 100%;">
            <span>
                "
                <span style="color: rgb(13, 109, 252); font-weight: bold;" id="hitokoto">
                    <a href="#" id="hitokoto_text">
                        "{{DEFAULT_QUOTE}}"
                    </a>
                </span> "
            </span>
            <p style="margin-left: 10rem;font-size: 8pt;">
                <small>
                    â€”â€” {{QUOTE_AUTHOR}}
                </small>
            </p>
        </div>

        <div style="font-size: 13px; font-weight: bold; max-width: 100%; word-wrap: break-word;">
            
            <span class="nav-item">
                <a class="nav-link" href="mailto:{{EMAIL}}" target="_blank">
                    <i class="fa-duotone fa-envelope-open" style="color:#409EFF" aria-hidden="true">
                    </i>
                    é‚®ç®± |
                </a>
            </span>
            <span class="nav-item">
                <a class="nav-link" href="{{BLOG_URL}}" target="_blank">
                    <i class="fas fa-edit" style="color:#409EFF" aria-hidden="true">
                    </i>
                    åšå®¢ |
                </a>
            </span>
            
            <span class="nav-item">
                <a class="nav-link" href="{{CLOUD_URL}}" target="_blank">
                    <i class="fa fa-cloud-download" style="color:#409EFF;" aria-hidden="true">
                    </i>
                    äº‘ç›˜ |
                </a>
            </span>
            <!--åå°å…¥å£-->
            <span class="nav-item">
                <a class="nav-link" href="/@manage" target="_blank">
                    <i class="fa-solid fa-folder-gear" style="color:#409EFF;" aria-hidden="true">
                    </i>
                    ç®¡ç† |
                </a>
            </span>
            <!--ç‰ˆæƒï¼Œè¯·å°Šé‡ä½œè€…-->
            <span class="nav-item">
                <a class="nav-link" href="https://github.com/OpenListTeam/OpenList" target="_blank">
                    <i class="fa-solid fa-copyright" style="color:#409EFF;" aria-hidden="true">
                    </i>
                    Openlist
                </a>
            </span>
            <br />
            <!--æ·»åŠ ä¸€ä¸ªè®¿é—®é‡-->
            <span style="word-wrap: break-word; max-width: 100%; display: inline-block;">
                æœ¬"<span style="color: rgb(13, 109, 252); font-weight: bold;"><a href="#">ç›®å½•</a></span>"è®¿é—®é‡ <span id="busuanzi_value_page_pv" style="color: rgb(13, 109, 252); font-weight: bold;">0</span> æ¬¡ æœ¬ç«™æ€»è®¿é—®é‡ <span id="busuanzi_value_site_pv" style="color: rgb(13, 109, 252); font-weight: bold;">0</span> æ¬¡ æœ¬ç«™æ€»è®¿å®¢æ•° <span id="busuanzi_value_site_uv" style="color: rgb(13, 109, 252); font-weight: bold;">0</span> äºº
            </span>
            <br />
            <!--æ·»åŠ å¤‡æ¡ˆä¿¡æ¯-->
            <span class="nav-item">
                <a class="nav-link" href="https://beian.miit.gov.cn/#/Integrated/index" target="_blank">
                    <i class="fa-solid fa-shield-check" style="color:#409EFF;" aria-hidden="true">
                    </i>
                    {{ICP_RECORD}}
                </a>
            </span>
        </div>
    </center>
    <br />

    <!--è¯„è®ºæ¨¡å—-->
    <div style="margin: 10px 0; padding: 10px; border: 1px dashed #ccc;">
        <h4>è¯„è®ºç³»ç»Ÿæµ‹è¯•ï¼š</h4>
        <div style="font-size: 12px; margin-bottom: 10px;">
            <div>ä»“åº“: <code>{{GISCUS_REPO}}</code></div>
            <div>ä»“åº“ID: <code>{{GISCUS_REPO_ID}}</code></div>
            <div>åˆ†ç±»: <code>{{GISCUS_CATEGORY}}</code></div>
            <div>åˆ†ç±»ID: <code>{{GISCUS_CATEGORY_ID}}</code></div>
        </div>
        <center>
            <div class="giscus" id="giscus" style="max-width: 100%; box-sizing: border-box; min-height: 100px; border: 1px solid #eee; padding: 10px;">
                <div style="text-align: center; color: #666; padding: 20px;">
                    è¯„è®ºç³»ç»ŸåŠ è½½ä¸­...
                </div>
            </div>
        </center>
    </div>
</div>

<!--ä¸€è¨€API-->
<script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>

<script>
console.log("ğŸ”§ OpenListä¸»é¢˜è¯Šæ–­ç‰ˆæœ¬å¼€å§‹åŠ è½½");

// è¯Šæ–­å‡½æ•°
function updateStatus(elementId, status, message) {
    const element = document.getElementById(elementId);
    if (element) {
        element.innerHTML = `${status} ${message}`;
    }
}

// æ£€æŸ¥ä¾èµ–
function checkDependencies() {
    // æ£€æŸ¥ APlayer
    if (typeof APlayer !== 'undefined') {
        updateStatus('aplayer-status', 'âœ…', 'APlayer å·²åŠ è½½');
        console.log('âœ… APlayer å¯ç”¨');
    } else {
        updateStatus('aplayer-status', 'âŒ', 'APlayer æœªåŠ è½½');
        console.log('âŒ APlayer ä¸å¯ç”¨');
    }

    // æ£€æŸ¥ MetingJS
    if (typeof MetingJSElement !== 'undefined' || document.querySelector('meting-js')) {
        const metingElements = document.querySelectorAll('meting-js');
        updateStatus('meting-status', 'âœ…', `MetingJS å·²åŠ è½½ (æ‰¾åˆ° ${metingElements.length} ä¸ªå…ƒç´ )`);
        console.log('âœ… MetingJS å¯ç”¨', metingElements);
        
        // æ£€æŸ¥ meting-js å…ƒç´ çš„çŠ¶æ€
        metingElements.forEach((el, index) => {
            console.log(`MetingJS å…ƒç´  ${index}:`, {
                server: el.getAttribute('server'),
                type: el.getAttribute('type'),
                id: el.getAttribute('id'),
                hasPlayer: el.querySelector('.aplayer') !== null
            });
        });
    } else {
        updateStatus('meting-status', 'âŒ', 'MetingJS æœªåŠ è½½');
        console.log('âŒ MetingJS ä¸å¯ç”¨');
    }

    // æ£€æŸ¥ Giscus
    const giscusScript = document.querySelector('script[src*="giscus"]');
    if (giscusScript) {
        updateStatus('giscus-status', 'âœ…', 'Giscus è„šæœ¬å·²åŠ è½½');
        console.log('âœ… Giscus è„šæœ¬å­˜åœ¨');
        
        // æ£€æŸ¥ Giscus é…ç½®
        console.log('Giscus é…ç½®:', {
            repo: giscusScript.getAttribute('data-repo'),
            repoId: giscusScript.getAttribute('data-repo-id'),
            category: giscusScript.getAttribute('data-category'),
            categoryId: giscusScript.getAttribute('data-category-id')
        });
    } else {
        updateStatus('giscus-status', 'âŒ', 'Giscus è„šæœ¬æœªæ‰¾åˆ°');
        console.log('âŒ Giscus è„šæœ¬ä¸å­˜åœ¨');
    }

    // æ£€æŸ¥ä¸è’œå­
    const pvElement = document.getElementById('busuanzi_value_page_pv');
    if (pvElement && pvElement.textContent !== '0') {
        updateStatus('busuanzi-status', 'âœ…', 'ä¸è’œå­ç»Ÿè®¡æ­£å¸¸');
    } else {
        updateStatus('busuanzi-status', 'âš ï¸', 'ä¸è’œå­ç»Ÿè®¡æœªåŠ è½½æˆ–ä¸º0');
    }
}

// ç«‹å³æ£€æŸ¥ä¸€æ¬¡
setTimeout(checkDependencies, 1000);

// 2ç§’åå†æ£€æŸ¥ä¸€æ¬¡
setTimeout(checkDependencies, 2000);

// 5ç§’åæœ€åæ£€æŸ¥ä¸€æ¬¡
setTimeout(() => {
    checkDependencies();
    console.log('ğŸ”§ è¯Šæ–­å®Œæˆ');
    
    // å¦‚æœéŸ³ä¹æ’­æ”¾å™¨è¿˜æ˜¯æ²¡æœ‰å†…å®¹ï¼Œå°è¯•æ‰‹åŠ¨åˆå§‹åŒ–
    const metingElements = document.querySelectorAll('meting-js');
    metingElements.forEach((el, index) => {
        if (!el.querySelector('.aplayer')) {
            console.log(`å°è¯•æ‰‹åŠ¨åˆå§‹åŒ– MetingJS å…ƒç´  ${index}`);
            // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶æˆ–é‡æ–°è®¾ç½®å±æ€§
            el.setAttribute('data-debug', 'true');
        }
    });
}, 5000);

function removelrc() {
    if (!document.querySelector(".aplayer-icon-lrc"))
        return;
    else {
        document.removeEventListener("DOMNodeInserted", removelrc);
        setTimeout(function () {
            document.querySelector(".aplayer-icon-lrc").click();
        }, 1);
        console.log("éŸ³ä¹æ’­æ”¾å™¨æ­Œè¯å·²éšè—");
        return;
    }
}

document.addEventListener('DOMNodeInserted', removelrc)
</script>
